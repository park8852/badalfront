# 바로배달 프로젝트 소개 자료

## 📌 프로젝트 개요

**바로배달 (baro-baedal)** - 통합 배달 플랫폼 서비스

배달 주문부터 가맹점 관리, 정산까지 전 과정을 지원하는 종합 배달 플랫폼입니다.

---

## 🏗️ 시스템 구성

### 1. 클라이언트 앱
- **Mobile App**: 일반 사용자용 모바일 앱
- **Web App** (Next.js): 가맹점 운영자용 관리 페이지

### 2. 백엔드 서버
- **Spring Boot** (Java 17)
- **REST API** 서버
- **MariaDB** 데이터베이스

---

## 👥 주요 사용자 역할

### 1. 일반 사용자 (USER)
- 회원가입 및 로그인
- 배달 주문
- 포인트 충전 및 사용
- 주문 조회

### 2. 가게 주인 (OWNER)
- 가게 등록 및 관리
- 메뉴 관리
- 주문 조회 및 처리
- 매출 통계 확인

### 3. 관리자 (ADMIN)
- 전체 가게 관리
- 정산 관리
- 시스템 관리

---

## 🔐 보안 시스템

### 인증 방식
- **JWT (JSON Web Token)** 기반 인증
- 토큰 유효기간: 1시간
- Bearer Token 방식

### 주요 모듈
- `JwtUtil`: 토큰 생성/검증
- `JwtAuthFilter`: 요청 필터링
- `FilterConfig`: 필터 설정

---

## 🛠️ 핵심 기능

### 1. 회원 관리
- 회원가입 (USER/OWNER)
- 로그인/로그아웃
- 회원정보 조회 및 수정
- **포인트 시스템** (충전/조회/사용)

### 2. 가게 관리
- 가게 등록 (OWNER)
- 가게 정보 조회
- 가게 정보 수정
- 가게 검색
- 가게 삭제 (ADMIN)

### 3. 메뉴 관리
- 메뉴 등록/조회/수정/삭제
- 이미지 업로드
- 가게별 메뉴 관리

### 4. 주문 관리
- 주문 생성
- 주문 조회 (전체/사용자별/가게별)
- 기간별 주문 조회
- 주문 수정/삭제
- **자동 가격 계산**: 가격 × 수량

### 5. 정산 시스템
- 가게별 매출 통계
- 기간별 주문 통계
- 정산 정보 관리

---

## 🗄️ 데이터베이스 구조

### 주요 테이블
1. **members**: 회원 정보
2. **stores**: 가게 정보
3. **menus**: 메뉴 정보
4. **orders**: 주문 정보
5. **store_sales**: 정산 정보
6. **boards**: 게시판
7. **comments**: 댓글

### 관계
- Members → Stores (1:N)
- Stores → Menus (1:N)
- Stores → Orders (1:N)
- Menus → Orders (1:N)
- Members → Orders (1:N)

---

## 📊 주요 기술 스택

### Backend
- Spring Boot 3.4.11
- Java 17
- MariaDB
- JWT (io.jsonwebtoken)
- JDBC Template
- Lombok

### Frontend (Web)
- Next.js
- TypeScript
- Tailwind CSS
- REST API 통신

### Frontend (Mobile)
- 개발 진행 중

---

## ⚠️ 보안 취약점 및 모의해킹 목표

### 발견된 주요 취약점 (예상)

#### 1. 인증/인가 취약점
- ✅ JWT 토큰 구조 분석 필요
- ⚠️ 블랙리스트 관리 없음
- ⚠️ 리프레시 토큰 미구현
- ⚠️ 토큰 만료 시간 고정

#### 2. 비즈니스 로직 취약점
- ⚠️ **포인트 조작 가능**: 현재 인증만으로 충전 가능
- ⚠️ 주문 가격 조작 가능성
- ⚠️ 권한 검증 부족

#### 3. 입력 검증 취약점
- ⚠️ SQL Injection 가능성
- ⚠️ XSS 공격 가능성
- ⚠️ 파일 업로드 검증 미흡

#### 4. 데이터베이스 취약점
- ⚠️ 비밀번호 평문/약한 해싱 가능성
- ⚠️ 민감정보 저장 방식

---

## 🎯 모의해킹 범위 및 목표

### 점검 대상
1. **인증 시스템**: JWT 토큰 검증 및 위/변조 가능성
2. **권한 관리**: 역할 기반 접근 제어 취약점
3. **입력 검증**: SQL Injection, XSS, Command Injection
4. **파일 업로드**: 악성 파일 업로드 및 경로 조작
5. **비즈니스 로직**: 포인트 시스템, 주문 가격 검증
6. **세션 관리**: 토큰 탈취 및 재사용
7. **데이터베이스**: 비밀번호 해싱, 민감정보 노출

### 시도할 공격 기법
- 🎯 JWT 토큰 위조 및 변경
- 🎯 포인트 무한 충전 공격
- 🎯 주문 가격 조작 공격
- 🎯 SQL Injection 공격
- 🎯 파일 업로드 취약점 공격
- 🎯 권한 상승 공격
- 🎯 정보 유출 공격

---

## 📈 기대 효과

### 보안 측면
- 실제 배포 전 취약점 사전 발견
- 보안 패치 적용으로 안전한 서비스 제공
- 사용자 데이터 보호

### 기술 측면
- 보안 모범 사례 학습
- 취약점 분석 역량 향상
- 실전 보안 경험

---

## 📝 다음 단계

1. ✅ 프로젝트 구조 파악 완료
2. ✅ 시스템 분석 완료
3. 🔜 **모의해킹 준비 및 실행**
4. 🔜 취약점 분석 및 리포트 작성
5. 🔜 보안 패치 적용

---

**"안전한 배달 서비스를 위한 보안 강화 프로젝트"**
